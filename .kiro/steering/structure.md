# Project Structure

## Directory Layout

```
dynamous-kiro-hackathon/
├── .kiro/                          # Kiro CLI configuration
│   ├── steering/                   # Project context documents
│   │   ├── product.md             # Product overview and requirements
│   │   ├── tech.md                # Technical architecture
│   │   └── structure.md           # This file - project structure
│   └── prompts/                    # Custom Kiro CLI prompts
│       ├── prime.md               # Load project context
│       ├── plan-feature.md        # Feature planning
│       ├── execute.md             # Execute development plans
│       ├── code-review.md         # Code quality review
│       └── ...                    # Additional workflow prompts
├── web/                            # Next.js application (main app)
│   ├── app/                       # Next.js App Router
│   │   ├── (auth)/               # Protected routes with Clerk
│   │   │   ├── translate/        # Main gesture recognition interface
│   │   │   └── settings/         # User preferences and voice selection
│   │   ├── api/                  # API routes
│   │   │   └── refine/           # Gemini text refinement endpoint
│   │   ├── layout.tsx            # Root layout with Clerk provider
│   │   └── page.tsx              # Landing page
│   ├── components/                # React components
│   │   ├── GestureRecognizer/    # MediaPipe gesture recognition
│   │   ├── SpeechOutput/         # Text-to-speech management
│   │   ├── Stabilizer/           # Gesture stabilization logic
│   │   ├── CaptionDisplay/       # Real-time caption UI
│   │   └── ui/                   # Reusable UI components
│   ├── lib/                       # Utility libraries
│   │   ├── mediapipe/            # MediaPipe configuration and helpers
│   │   ├── speech/               # Speech synthesis utilities
│   │   ├── gemini/               # Gemini API client
│   │   └── utils.ts              # General utilities
│   ├── hooks/                     # Custom React hooks
│   │   ├── useGestureRecognizer.ts
│   │   ├── useSpeechSynthesis.ts
│   │   └── useStabilizer.ts
│   ├── types/                     # TypeScript type definitions
│   │   ├── gesture.types.ts
│   │   ├── speech.types.ts
│   │   └── api.types.ts
│   ├── public/                    # Static assets
│   │   ├── models/               # MediaPipe model files (if bundled)
│   │   └── images/               # Images and icons
│   ├── styles/                    # Global styles
│   │   └── globals.css           # Tailwind imports and global styles
│   ├── __tests__/                # Test files
│   │   ├── unit/                 # Unit tests
│   │   ├── components/           # Component tests
│   │   └── integration/          # Integration tests
│   ├── .env.example              # Environment variable template
│   ├── .env.local                # Local environment variables (gitignored)
│   ├── next.config.js            # Next.js configuration
│   ├── tailwind.config.js        # Tailwind CSS configuration
│   ├── tsconfig.json             # TypeScript configuration
│   ├── jest.config.js            # Jest testing configuration
│   ├── package.json              # Dependencies and scripts
│   └── README.md                 # Web app specific documentation
├── docs/                          # Additional documentation
│   ├── architecture.md           # Detailed architecture diagrams
│   ├── gesture-mapping.md        # Gesture to phrase mappings
│   └── deployment.md             # Deployment instructions
├── plans/                         # Feature implementation plans
│   └── [feature-name].md         # Generated by @plan-feature
├── execution-reports/             # Implementation reports
│   └── [feature-name]-report.md  # Generated by @execution-report
├── .gitignore                     # Git ignore rules
├── README.md                      # Main project documentation
├── DEVLOG.md                      # Development log (hackathon requirement)
└── package.json                   # Root package.json (if using monorepo)
```

## File Naming Conventions

### React Components
- **PascalCase** for component files: `GestureRecognizer.tsx`, `SpeechOutput.tsx`
- **Index files** for component folders: `GestureRecognizer/index.tsx`
- **Co-located styles** (if needed): `GestureRecognizer.module.css`
- **Co-located tests**: `GestureRecognizer.test.tsx`

### Utilities & Libraries
- **camelCase** for utility files: `gestureStabilizer.ts`, `speechUtils.ts`
- **Descriptive names**: `formatGestureToken.ts` not `format.ts`
- **Single responsibility**: One utility function per file when appropriate

### API Routes
- **kebab-case** for API route folders: `api/refine-text/route.ts`
- **route.ts** for Next.js App Router API handlers
- **Versioned routes** if needed: `api/v1/refine/route.ts`

### Types & Interfaces
- **PascalCase** with `.types.ts` suffix: `Gesture.types.ts`, `SpeechConfig.types.ts`
- **Descriptive interface names**: `GestureRecognitionResult`, `SpeechSynthesisConfig`
- **Grouped by domain**: All gesture-related types in `gesture.types.ts`

### Documentation
- **kebab-case** for markdown files: `gesture-mapping.md`, `deployment-guide.md`
- **UPPERCASE** for root-level docs: `README.md`, `DEVLOG.md`
- **Descriptive names**: `architecture-overview.md` not `arch.md`

## Module Organization

### Component Structure
```typescript
// components/GestureRecognizer/index.tsx
export { GestureRecognizer } from './GestureRecognizer';
export type { GestureRecognizerProps } from './GestureRecognizer.types';

// components/GestureRecognizer/GestureRecognizer.tsx
import { useGestureRecognizer } from '@/hooks/useGestureRecognizer';
import type { GestureRecognizerProps } from './GestureRecognizer.types';

export function GestureRecognizer({ onGestureDetected }: GestureRecognizerProps) {
  // Component implementation
}
```

### Hook Organization
```typescript
// hooks/useGestureRecognizer.ts
import { useEffect, useRef } from 'react';
import { initializeMediaPipe } from '@/lib/mediapipe';
import type { GestureResult } from '@/types/gesture.types';

export function useGestureRecognizer() {
  // Hook implementation
  return { gesture, isReady, error };
}
```

### Library Organization
```typescript
// lib/mediapipe/index.ts
export { initializeMediaPipe } from './initialize';
export { processFrame } from './processFrame';
export { cleanupMediaPipe } from './cleanup';
export type { MediaPipeConfig } from './types';
```

### API Route Organization
```typescript
// app/api/refine/route.ts
import { auth } from '@clerk/nextjs';
import { refineGestureTokens } from '@/lib/gemini';

export async function POST(request: Request) {
  const { userId } = auth();
  if (!userId) return new Response('Unauthorized', { status: 401 });
  
  // API implementation
}
```

## Configuration Files

### Environment Variables (.env.local)
```bash
# Clerk Authentication
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_...
CLERK_SECRET_KEY=sk_test_...

# Gemini API (optional, for Smart Mode)
GEMINI_API_KEY=...

# App Configuration
NEXT_PUBLIC_APP_URL=http://localhost:3000
```

### Next.js Configuration (next.config.js)
```javascript
/** @type {import('next').NextConfig} */
const nextConfig = {
  reactStrictMode: true,
  swcMinify: true,
  experimental: {
    serverActions: true,
  },
  // MediaPipe WASM support
  webpack: (config) => {
    config.resolve.fallback = { fs: false, path: false };
    return config;
  },
};

module.exports = nextConfig;
```

### TypeScript Configuration (tsconfig.json)
```json
{
  "compilerOptions": {
    "target": "ES2020",
    "lib": ["dom", "dom.iterable", "esnext"],
    "strict": true,
    "noImplicitAny": true,
    "strictNullChecks": true,
    "baseUrl": ".",
    "paths": {
      "@/*": ["./*"],
      "@/components/*": ["components/*"],
      "@/lib/*": ["lib/*"],
      "@/hooks/*": ["hooks/*"],
      "@/types/*": ["types/*"]
    }
  }
}
```

### Tailwind Configuration (tailwind.config.js)
```javascript
module.exports = {
  content: [
    './app/**/*.{js,ts,jsx,tsx}',
    './components/**/*.{js,ts,jsx,tsx}',
  ],
  theme: {
    extend: {
      colors: {
        // Custom color palette for accessibility
      },
    },
  },
  plugins: [],
};
```

## Documentation Structure

### Root Documentation
- **README.md**: Project overview, setup instructions, demo video link
- **DEVLOG.md**: Development timeline, decisions, challenges, time tracking
- **LICENSE**: Project license (if applicable)

### Technical Documentation (docs/)
- **architecture.md**: Detailed system architecture with diagrams
- **gesture-mapping.md**: Complete gesture to phrase mapping reference
- **deployment.md**: Step-by-step deployment instructions for AWS Amplify
- **testing.md**: Testing strategy and how to run tests

### Code Documentation
- **JSDoc comments** for complex functions and utilities
- **Inline comments** for non-obvious logic (especially stabilizer algorithm)
- **README.md** in component folders for complex components
- **Type definitions** serve as documentation for data structures

## Asset Organization

### Public Assets (web/public/)
```
public/
├── models/              # MediaPipe model files (if bundled locally)
│   ├── gesture_recognizer.task
│   └── hand_landmarker.task
├── images/              # Static images
│   ├── logo.svg
│   ├── hero-image.png
│   └── tutorial/        # Onboarding tutorial images
├── icons/               # App icons and favicons
│   ├── favicon.ico
│   └── icon-192.png
└── fonts/               # Custom fonts (if needed)
```

### Component Assets
- **Co-located with components** when component-specific
- **Shared assets** in `public/` for reuse across components
- **Optimized images** using Next.js Image component

## Build Artifacts

### Development Build
```
web/.next/               # Next.js build output (gitignored)
web/node_modules/        # Dependencies (gitignored)
web/.env.local           # Local environment variables (gitignored)
```

### Production Build
```
web/.next/               # Optimized production build
├── static/              # Static assets with hashed filenames
├── server/              # Server-side code
└── cache/               # Build cache
```

### Test Artifacts
```
web/coverage/            # Jest coverage reports (gitignored)
web/__tests__/__snapshots__/  # Jest snapshots
```

## Environment-Specific Files

### Development Environment
- **.env.local**: Local development environment variables
- **next.config.js**: Development-specific Next.js config
- **Hot reload enabled**: Fast refresh for rapid development

### Staging Environment (AWS Amplify)
- **Environment variables** set in Amplify console
- **Staging Clerk app**: Separate Clerk instance for testing
- **Test Gemini API key**: Separate API key with rate limits

### Production Environment (AWS Amplify)
- **Production environment variables** in Amplify console
- **Production Clerk app**: Production authentication instance
- **Production Gemini API key**: Production API key with appropriate limits
- **CDN caching**: Amplify CDN for static assets
- **HTTPS enforced**: Secure connections only

## Hackathon-Specific Structure

### Required for Submission
- **.kiro/**: Complete Kiro CLI configuration (steering + prompts)
- **DEVLOG.md**: Comprehensive development log with timeline and decisions
- **README.md**: Clear project overview with setup instructions
- **plans/**: Feature implementation plans generated during development
- **execution-reports/**: Implementation reports for completed features

### Judging-Friendly Organization
- **Clean root directory**: Main docs and web app clearly separated
- **Clear navigation**: Easy to find code, docs, and Kiro configuration
- **Comprehensive README**: Judges can understand and run the project quickly
- **Well-documented code**: Comments and type definitions for clarity
